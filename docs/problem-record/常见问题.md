## 常见问题

### 一、《Java实战开发》页面访问服务器返回json格式数据太大，导致数据不全被截断，无法展示

>问题：页面展示调用查询方法查询全部数据的时候一直显示loading。。。，打开调试器显示 Failed to load resource: net::ERR_SPDY_PROTOCOL_ERROR，而少部分查询则正常显示。

因为数据中有图片转成的二进制数组，数据比较长，由此怀疑是返回数据大小的问题，经过排查发现查询全部时返回的json数据不全，被截断了，因此页面无法解析。（这个问题真的很坑，排查了很久才发现是nginx的问题）

经过查询资料，发现是nginx代理的问题。

原因：nginx对于小的反向代理请求是使用内存作中转，对于稍微大一点的，是使用临时文件系统来做中转的，临时文件目录/usr/local/nginx/proxy_temp，而对这个目录没有读写权限，导致数据不全。

解决：然后让运维看了下nginx的日志和目录权限，发现确实如此，给临时文件目录加上读写权限。 搞定🤝

### 二、