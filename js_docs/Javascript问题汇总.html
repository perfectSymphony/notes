<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javascript问题汇总 | perfectSymphony</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/home.jpeg">
    <meta name="description" content="我的个人网站">
    
    <link rel="preload" href="/assets/css/0.styles.6d920bc0.css" as="style"><link rel="preload" href="/assets/js/app.45fb48c1.js" as="script"><link rel="preload" href="/assets/js/2.d26699a6.js" as="script"><link rel="preload" href="/assets/js/63.e53c53f5.js" as="script"><link rel="prefetch" href="/assets/js/10.24db076a.js"><link rel="prefetch" href="/assets/js/100.31e4ff08.js"><link rel="prefetch" href="/assets/js/101.275b0dc9.js"><link rel="prefetch" href="/assets/js/102.36bd3eec.js"><link rel="prefetch" href="/assets/js/103.d3bdfae5.js"><link rel="prefetch" href="/assets/js/104.9a84e0b3.js"><link rel="prefetch" href="/assets/js/105.24f53490.js"><link rel="prefetch" href="/assets/js/106.edcbfcea.js"><link rel="prefetch" href="/assets/js/107.59e11721.js"><link rel="prefetch" href="/assets/js/108.7e139f71.js"><link rel="prefetch" href="/assets/js/109.26f8820f.js"><link rel="prefetch" href="/assets/js/11.d323fa6d.js"><link rel="prefetch" href="/assets/js/110.fadb2d6f.js"><link rel="prefetch" href="/assets/js/111.30b4fbe8.js"><link rel="prefetch" href="/assets/js/112.6293acf2.js"><link rel="prefetch" href="/assets/js/113.c8c73bef.js"><link rel="prefetch" href="/assets/js/114.5543decc.js"><link rel="prefetch" href="/assets/js/115.c24d3690.js"><link rel="prefetch" href="/assets/js/116.513d9267.js"><link rel="prefetch" href="/assets/js/117.e3aa58c4.js"><link rel="prefetch" href="/assets/js/118.48fd3d96.js"><link rel="prefetch" href="/assets/js/119.93f7b6b5.js"><link rel="prefetch" href="/assets/js/12.d1daacc3.js"><link rel="prefetch" href="/assets/js/120.8438c236.js"><link rel="prefetch" href="/assets/js/121.81aea538.js"><link rel="prefetch" href="/assets/js/122.fd36a323.js"><link rel="prefetch" href="/assets/js/123.9537154f.js"><link rel="prefetch" href="/assets/js/124.eb5f4e20.js"><link rel="prefetch" href="/assets/js/125.25e0058a.js"><link rel="prefetch" href="/assets/js/126.d137ccf2.js"><link rel="prefetch" href="/assets/js/127.54026ea5.js"><link rel="prefetch" href="/assets/js/128.53cd745a.js"><link rel="prefetch" href="/assets/js/129.40fff569.js"><link rel="prefetch" href="/assets/js/13.7c95be4c.js"><link rel="prefetch" href="/assets/js/130.83521353.js"><link rel="prefetch" href="/assets/js/131.32823fee.js"><link rel="prefetch" href="/assets/js/132.76a2b70e.js"><link rel="prefetch" href="/assets/js/133.6eea6b1a.js"><link rel="prefetch" href="/assets/js/134.cd5b48b3.js"><link rel="prefetch" href="/assets/js/135.178434c0.js"><link rel="prefetch" href="/assets/js/136.7982eef3.js"><link rel="prefetch" href="/assets/js/14.12fa1d5e.js"><link rel="prefetch" href="/assets/js/15.85c6d40a.js"><link rel="prefetch" href="/assets/js/16.59500f15.js"><link rel="prefetch" href="/assets/js/17.93293b6d.js"><link rel="prefetch" href="/assets/js/18.b7d9cdcb.js"><link rel="prefetch" href="/assets/js/19.257741e9.js"><link rel="prefetch" href="/assets/js/20.625efc93.js"><link rel="prefetch" href="/assets/js/21.67760727.js"><link rel="prefetch" href="/assets/js/22.0ed8d390.js"><link rel="prefetch" href="/assets/js/23.9f209f9e.js"><link rel="prefetch" href="/assets/js/24.31a6dccf.js"><link rel="prefetch" href="/assets/js/25.cbb6652d.js"><link rel="prefetch" href="/assets/js/26.2256e321.js"><link rel="prefetch" href="/assets/js/27.d4f2265f.js"><link rel="prefetch" href="/assets/js/28.b185a9e2.js"><link rel="prefetch" href="/assets/js/29.da9c70b4.js"><link rel="prefetch" href="/assets/js/3.43c9886b.js"><link rel="prefetch" href="/assets/js/30.58c0fda4.js"><link rel="prefetch" href="/assets/js/31.dca3a350.js"><link rel="prefetch" href="/assets/js/32.a57d6d2e.js"><link rel="prefetch" href="/assets/js/33.eb7cac89.js"><link rel="prefetch" href="/assets/js/34.941cf10b.js"><link rel="prefetch" href="/assets/js/35.88eae195.js"><link rel="prefetch" href="/assets/js/36.89e20654.js"><link rel="prefetch" href="/assets/js/37.f4c1e309.js"><link rel="prefetch" href="/assets/js/38.75a1b492.js"><link rel="prefetch" href="/assets/js/39.248a92a4.js"><link rel="prefetch" href="/assets/js/4.7fd411b0.js"><link rel="prefetch" href="/assets/js/40.782cb49b.js"><link rel="prefetch" href="/assets/js/41.6694718c.js"><link rel="prefetch" href="/assets/js/42.cb24be3a.js"><link rel="prefetch" href="/assets/js/43.4f391a32.js"><link rel="prefetch" href="/assets/js/44.788c7d78.js"><link rel="prefetch" href="/assets/js/45.c9f2db49.js"><link rel="prefetch" href="/assets/js/46.7ae0bdbc.js"><link rel="prefetch" href="/assets/js/47.e6cf88f4.js"><link rel="prefetch" href="/assets/js/48.be2a900f.js"><link rel="prefetch" href="/assets/js/49.48973c39.js"><link rel="prefetch" href="/assets/js/5.c98be8d0.js"><link rel="prefetch" href="/assets/js/50.3b4dc887.js"><link rel="prefetch" href="/assets/js/51.03927263.js"><link rel="prefetch" href="/assets/js/52.c19ea265.js"><link rel="prefetch" href="/assets/js/53.09f5db59.js"><link rel="prefetch" href="/assets/js/54.df30f1b2.js"><link rel="prefetch" href="/assets/js/55.99137d78.js"><link rel="prefetch" href="/assets/js/56.d24866ff.js"><link rel="prefetch" href="/assets/js/57.5e0ee45b.js"><link rel="prefetch" href="/assets/js/58.5d682242.js"><link rel="prefetch" href="/assets/js/59.57af6711.js"><link rel="prefetch" href="/assets/js/6.d235a73a.js"><link rel="prefetch" href="/assets/js/60.de1da343.js"><link rel="prefetch" href="/assets/js/61.5e303981.js"><link rel="prefetch" href="/assets/js/62.49bc7ac2.js"><link rel="prefetch" href="/assets/js/64.b6aa15c7.js"><link rel="prefetch" href="/assets/js/65.140da2da.js"><link rel="prefetch" href="/assets/js/66.da7d605d.js"><link rel="prefetch" href="/assets/js/67.8352ca60.js"><link rel="prefetch" href="/assets/js/68.d2749152.js"><link rel="prefetch" href="/assets/js/69.afe95338.js"><link rel="prefetch" href="/assets/js/7.a2646908.js"><link rel="prefetch" href="/assets/js/70.e459725f.js"><link rel="prefetch" href="/assets/js/71.15aaad39.js"><link rel="prefetch" href="/assets/js/72.bf2d4d18.js"><link rel="prefetch" href="/assets/js/73.0acba4cf.js"><link rel="prefetch" href="/assets/js/74.36a27b5d.js"><link rel="prefetch" href="/assets/js/75.bf8fa3dd.js"><link rel="prefetch" href="/assets/js/76.1d15a27f.js"><link rel="prefetch" href="/assets/js/77.10b34483.js"><link rel="prefetch" href="/assets/js/78.31093bde.js"><link rel="prefetch" href="/assets/js/79.566216f3.js"><link rel="prefetch" href="/assets/js/8.401c7680.js"><link rel="prefetch" href="/assets/js/80.363c3244.js"><link rel="prefetch" href="/assets/js/81.74e3c5bd.js"><link rel="prefetch" href="/assets/js/82.ea523a92.js"><link rel="prefetch" href="/assets/js/83.8cee748e.js"><link rel="prefetch" href="/assets/js/84.19194ea9.js"><link rel="prefetch" href="/assets/js/85.9b84eac9.js"><link rel="prefetch" href="/assets/js/86.796b6cee.js"><link rel="prefetch" href="/assets/js/87.6b4f5abb.js"><link rel="prefetch" href="/assets/js/88.eb46f87a.js"><link rel="prefetch" href="/assets/js/89.c72208e2.js"><link rel="prefetch" href="/assets/js/9.b62e7945.js"><link rel="prefetch" href="/assets/js/90.cbfbce11.js"><link rel="prefetch" href="/assets/js/91.dcfc03af.js"><link rel="prefetch" href="/assets/js/92.578e257a.js"><link rel="prefetch" href="/assets/js/93.ffcd966d.js"><link rel="prefetch" href="/assets/js/94.f648423c.js"><link rel="prefetch" href="/assets/js/95.9016c3ee.js"><link rel="prefetch" href="/assets/js/96.445e66bb.js"><link rel="prefetch" href="/assets/js/97.bc64985c.js"><link rel="prefetch" href="/assets/js/98.29bcaa5f.js"><link rel="prefetch" href="/assets/js/99.b64dbe2c.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6d920bc0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">perfectSymphony</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.cnblogs.com/myprogramer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/css_docs/CSS中的BFC详解.html" class="nav-link">
  算法题库
</a></div> <a href="https://github.com/perfectSymphony/notes.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.cnblogs.com/myprogramer/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客园
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/css_docs/CSS中的BFC详解.html" class="nav-link">
  算法题库
</a></div> <a href="https://github.com/perfectSymphony/notes.git" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>HTML</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/html_docs/html相关面试题.html" class="sidebar-link">html相关面试题</a></li><li><a href="/html_docs/table使用总结.html" class="sidebar-link">table使用总结</a></li><li><a href="/html_docs/localStorage和sessionStorage区别.html" class="sidebar-link">localStorage和sessionStorage区别</a></li><li><a href="/html_docs/meta标签和浏览器缓存关系.html" class="sidebar-link">meta标签和浏览器缓存关系</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JavaScript</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/js_docs/变量提升必须注意的问题.html" class="sidebar-link">变量提升必须注意的问题</a></li><li><a href="/js_docs/typeof与instanceof区别.html" class="sidebar-link">typeof与instanceof区别</a></li><li><a href="/js_docs/call、apply和bind方法的用法以及区别.html" class="sidebar-link">call、apply和bind方法的用法以及区别</a></li><li><a href="/js_docs/Promise精选.html" class="sidebar-link">Promise精选</a></li><li><a href="/js_docs/事件循环机制相关问题总结.html" class="sidebar-link">事件循环机制相关问题总结</a></li><li><a href="/js_docs/彻底搞懂JS中的prototype、__proto__与constructor.html" class="sidebar-link">彻底搞懂JS中的prototype、_proto_与constructor</a></li><li><a href="/js_docs/ES6遍历数组和对象的方法总结.html" class="sidebar-link">ES6遍历数组和对象的方法总结</a></li><li><a href="/js_docs/JS数据类型有哪些，有什么区别？.html" class="sidebar-link">JS数据类型有哪些，有什么区别？</a></li><li><a href="/js_docs/解决JavaScript中0.1+0.2不等于0.3的问题.html" class="sidebar-link">解决JavaScript中0.1+0.2不等于0.3的问题</a></li><li><a href="/js_docs/ES6中的Set和Map.html" class="sidebar-link">ES6中的Set和Map</a></li><li><a href="/js_docs/谈谈对闭包的理解.html" class="sidebar-link">谈谈对闭包的理解</a></li><li><a href="/js_docs/JS基础.html" class="sidebar-link">JS基础(初级)</a></li><li><a href="/js_docs/JS能力测评.html" class="sidebar-link">JS能力测评</a></li><li><a href="/js_docs/手写出场率极高的面试题.html" class="sidebar-link">手写出场率极高的面试题</a></li><li><a href="/js_docs/什么是纯函数.html" class="sidebar-link">什么是纯函数</a></li><li><a href="/js_docs/什么是函数柯里化.html" class="sidebar-link">什么是函数柯里化</a></li><li><a href="/js_docs/js判断变量是不是数组的方法.html" class="sidebar-link">js判断变量是不是数组的方法</a></li><li><a href="/js_docs/判断一个对象是否为空对象.html" class="sidebar-link">判断一个对象是否为空对象</a></li><li><a href="/js_docs/JavaScript的深拷贝与浅拷贝.html" class="sidebar-link">JavaScript的深拷贝与浅拷贝</a></li><li><a href="/js_docs/关于面向对象.html" class="sidebar-link">关于面向对象</a></li><li><a href="/js_docs/AMD、CMD、CommonJs到底是什么？它们有什么区别？.html" class="sidebar-link">AMD、CMD、CommonJs到底是什么？它们有什么区别？</a></li><li><a href="/js_docs/箭头函数与普通函数的区别.html" class="sidebar-link">箭头函数与普通函数的区别</a></li><li><a href="/js_docs/js判断是否为整数类型.html" class="sidebar-link">js判断是否为整数类型</a></li><li><a href="/js_docs/JavaScript实现数据双向绑定的三种方式.html" class="sidebar-link">JavaScript实现数据双向绑定的三种方式</a></li><li><a href="/js_docs/浏览器与Node的事件循环有何区别.html" class="sidebar-link">浏览器与Node的事件循环有何区别</a></li><li><a href="/js_docs/异步编程实现任务调度器.html" class="sidebar-link">异步编程实现任务调度器</a></li><li><a href="/js_docs/javascript面试题七问七答.html" class="sidebar-link">javascript面试题七问七答</a></li><li><a href="/js_docs/JavaScript提升代码质量的最佳实践列表.html" class="sidebar-link">JavaScript提升代码质量的最佳实践列表</a></li><li><a href="/js_docs/null和undefined的区别.html" class="sidebar-link">null和undefined的区别</a></li><li><a href="/js_docs/Javascript中的运算符.html" class="sidebar-link">Javascript中的运算符</a></li><li><a href="/js_docs/Javascript清除缓存的几种方法.html" class="sidebar-link">Javascript清除缓存的几种方法</a></li><li><a href="/js_docs/Javascript问题汇总.html" class="active sidebar-link">Javascript问题汇总</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/js_docs/Javascript问题汇总.html#javascript问题汇总" class="sidebar-link">Javascript问题汇总</a></li></ul></li><li><a href="/js_docs/H5图片上传实现.html" class="sidebar-link">H5图片上传实现</a></li><li><a href="/js_docs/前端异常捕获与实践.html" class="sidebar-link">前端异常捕获与实践</a></li><li><a href="/js_docs/JS错误收集及解决方案.html" class="sidebar-link">JS错误收集及解决方案</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>工具篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>uni-app</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NodeJS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GIT</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Nginx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTTP</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>跨域</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>性能优化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>架构</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>概念篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>移动直播</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>问题记录</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>语录篇</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每日反思</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目管理</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="javascript问题汇总"><a href="#javascript问题汇总" class="header-anchor">#</a> Javascript问题汇总</h2> <h4 id="_1、base64-web前端js解码与转码"><a href="#_1、base64-web前端js解码与转码" class="header-anchor">#</a> 1、base64 web前端js解码与转码</h4> <p>解码，就是把base64的转换成常规字符串</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">function</span> b64EncodeUnicode<span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token builtin class-name">return</span> btoa<span class="token punctuation">(</span>encodeURIComponent<span class="token punctuation">(</span>str<span class="token punctuation">)</span>.replace<span class="token punctuation">(</span>/%<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span>-9A-F<span class="token punctuation">]</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">)</span>/g, function<span class="token punctuation">(</span>match, p1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token builtin class-name">return</span> String.fromCharCode<span class="token punctuation">(</span><span class="token string">'0x'</span> + p1<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
b64EncodeUnicode<span class="token punctuation">(</span><span class="token string">'我是很厉害的'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // <span class="token string">&quot;5oiR5piv5b6I5Y6J5a6z55qE&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>转码</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token keyword">function</span> b64DecodeUnicode<span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin class-name">return</span> decodeURIComponent<span class="token punctuation">(</span>atob<span class="token punctuation">(</span>str<span class="token punctuation">)</span>.split<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>.map<span class="token punctuation">(</span>function<span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token builtin class-name">return</span> <span class="token string">'%'</span> + <span class="token punctuation">(</span><span class="token string">'00'</span> + c.charCodeAt<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span>.toString<span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">))</span>.slice<span class="token punctuation">(</span>-2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>.join<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

b64DecodeUnicode<span class="token punctuation">(</span><span class="token string">'5oiR5piv5b6I5Y6J5a6z55qE'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> // <span class="token string">&quot;我是很厉害的&quot;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_2、url加解密"><a href="#_2、url加解密" class="header-anchor">#</a> 2、URL加解密</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>//escape<span class="token punctuation">(</span><span class="token punctuation">)</span>不能直接用于URL编码，它的真正作用是返回一个字符的Unicode编码值。比如<span class="token string">&quot;春节&quot;</span>的返回结果是%u6625%u8282，escape<span class="token punctuation">(</span><span class="token punctuation">)</span>不对<span class="token string">&quot;+&quot;</span>编码 主要用于汉字编码。
alert<span class="token punctuation">(</span>escape<span class="token punctuation">(</span><span class="token string">&quot;春节&quot;</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
alert<span class="token punctuation">(</span>unescape<span class="token punctuation">(</span>escape<span class="token punctuation">(</span><span class="token string">&quot;春节&quot;</span><span class="token punctuation">))</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
//encodeURI<span class="token punctuation">(</span><span class="token punctuation">)</span>是用来对URL编码的函数。 编码整个url地址，但对特殊含义的符号<span class="token string">&quot;; / ? : @ &amp; = + $ , #&quot;</span>不进行编码。对应的解码函数是：decodeURI<span class="token punctuation">(</span><span class="token punctuation">)</span>。
alert<span class="token punctuation">(</span>encodeURI<span class="token punctuation">(</span><span class="token string">'http://baidu.com?hello=您好&amp;word=文档'</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
alert<span class="token punctuation">(</span>decodeURI<span class="token punctuation">(</span>encodeURI<span class="token punctuation">(</span><span class="token string">'http://baidu.com?hello=您好&amp;word=文档'</span><span class="token punctuation">))</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
//encodeURIComponent<span class="token punctuation">(</span><span class="token punctuation">)</span> 能编码<span class="token string">&quot;; / ? : @ &amp; = + $ , #&quot;</span>这些特殊字符。对应的解码函数是decodeURIComponent<span class="token punctuation">(</span><span class="token punctuation">)</span>。
alert<span class="token punctuation">(</span>encodeURIComponent<span class="token punctuation">(</span><span class="token string">'http://baidu.com?hello=您好&amp;word=文档'</span><span class="token punctuation">))</span><span class="token punctuation">;</span>
alert<span class="token punctuation">(</span>decodeURIComponent<span class="token punctuation">(</span>encodeURIComponent<span class="token punctuation">(</span><span class="token string">'http://baidu.com?hello=您好&amp;word=文档'</span><span class="token punctuation">))</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h4 id="_3、js修改iframe内的css样式"><a href="#_3、js修改iframe内的css样式" class="header-anchor">#</a> 3、js修改iframe内的css样式</h4> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 这种方式生效的前提是父页面与子页面必须在同一域名下，否则会跨域，如果出现跨域，可以使用postMessage代替</span>
<span class="token operator">&lt;</span>body οnlοad<span class="token operator">=</span><span class="token string">&quot;ft()&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span>-- 加载完之后才能读取完整的document对象 --<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>div <span class="token assign-left variable">style</span><span class="token operator">=</span><span class="token string">&quot;text-align: center;&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>iframe <span class="token assign-left variable">id</span><span class="token operator">=</span><span class="token string">&quot;myFrame&quot;</span> <span class="token assign-left variable">name</span><span class="token operator">=</span><span class="token string">&quot;myFrame&quot;</span> <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;MyHtml.html&quot;</span> <span class="token assign-left variable">frameborder</span><span class="token operator">=</span><span class="token string">&quot;0&quot;</span> <span class="token assign-left variable">scrolling</span><span class="token operator">=</span><span class="token string">&quot;no&quot;</span>  <span class="token assign-left variable">height</span><span class="token operator">=</span><span class="token string">&quot;560px;&quot;</span> <span class="token assign-left variable">sandbox</span><span class="token operator">=</span><span class="token string">&quot;allow-forms&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>/iframe<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
 
<span class="token operator">&lt;</span>script <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function-name function">ft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
//alert<span class="token punctuation">(</span>document.getElementById<span class="token punctuation">(</span><span class="token string">&quot;myFrame&quot;</span><span class="token punctuation">)</span>.document<span class="token punctuation">)</span><span class="token punctuation">;</span>
var <span class="token assign-left variable">deptObjs</span><span class="token operator">=</span> document.getElementById<span class="token punctuation">(</span><span class="token string">&quot;myFrame&quot;</span><span class="token punctuation">)</span>.contentWindow.document.getElementsByTagName<span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
for<span class="token punctuation">(</span>var <span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span>deptObjs.length<span class="token punctuation">;</span>i++<span class="token punctuation">)</span><span class="token punctuation">{</span>
   var <span class="token assign-left variable">tmp</span><span class="token operator">=</span>deptObjs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
   if<span class="token punctuation">(</span>tmp.className<span class="token operator">==</span><span class="token string">&quot;myTest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	   //alert<span class="token punctuation">(</span>tmp.style.display<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token assign-left variable">tmp.style.display</span><span class="token operator">=</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
       //alert<span class="token punctuation">(</span>tmp.style.display<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>  
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h4 id="_4、unexpected-token-in-json-at-position-0-的错误解析"><a href="#_4、unexpected-token-in-json-at-position-0-的错误解析" class="header-anchor">#</a> 4、Unexpected token &lt; in JSON at position 0 的错误解析</h4> <h5 id="_1、引起的原因"><a href="#_1、引起的原因" class="header-anchor">#</a> 1、引起的原因</h5> <p>这些错误发生在当你向服务器发送请求，返回值不是JSON而用JSON的方法解析的时候，发生这种情况的代码可能是这样的</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>fetch<span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">)</span>.then<span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">&gt;</span> res.json<span class="token punctuation">(</span><span class="token punctuation">))</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>实际的请求没有问题，它得到了一个返回值，发生问题的关键在于<code>res.json()</code></p> <h5 id="_2、json-parse"><a href="#_2、json-parse" class="header-anchor">#</a> 2、JSON.parse</h5> <p>用另一种方法JSON.parse来解析Json的， 代码可能是这样的</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>JSON.parse<span class="token punctuation">(</span><span class="token variable"><span class="token variable">`</span>不是Json的字符串<span class="token variable">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>JSON.parse()</code>本质上是和<code>res.json()</code>一样的，所以它们发生错误的情况是相同的。</p> <h5 id="_3、无效的json"><a href="#_3、无效的json" class="header-anchor">#</a> 3、无效的JSON</h5> <blockquote><p>JSON应该以有效的JSON值开始 —— 一个object, array, string, number, 或者是
false/true/null。以&lt;开始的返回值会有Unexpected token &lt;这样的提示。
&lt;这个符号意味着返回值是HTML而不是JSON。
引起这个错误的根源是服务端返回的是HTML或者其他不是Json的字符串。</p></blockquote> <p><strong>为什么会这样呢？</strong>
“Unexpected token o in JSON at position 1” 或者其他变量。
错误的提示一些差别会随着服务器返回的不同而不同</p> <p>它所提示的符号或者位置可能不同，但是引起它的原因是相同的： 你的代码所有解析的Json不是真的有效的Json。
下面是一些我所看见的错误的提示：</p> <ul><li>Unexpected token &lt; in JSON at position 1</li> <li>Unexpected token p in JSON at position 0</li> <li>Unexpected token d in JSON at position 0</li></ul> <h5 id="_4、解决方案"><a href="#_4、解决方案" class="header-anchor">#</a> 4、解决方案</h5> <p>With fetch, you can use res.text() instead of res.json() to get the text string itself. Alter your code to read something like this, and check the console to see what’s causing the problem:
首先要做是先把返回值打印出来。如果用fetch，可以用<code>res.text()</code>代替<code>res.json()</code>来获得字符串。把你的代码转换成如下这样，并且通过打印出来的内容查看哪里出问题了。</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>fetch<span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">)</span>
  // .then<span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">&gt;</span> res.json<span class="token punctuation">(</span><span class="token punctuation">))</span> // comment this out <span class="token keyword">for</span> now
  .then<span class="token punctuation">(</span>res <span class="token operator">=</span><span class="token operator">&gt;</span> res.text<span class="token punctuation">(</span><span class="token punctuation">))</span>          // convert to plain text
  .then<span class="token punctuation">(</span>text <span class="token operator">=</span><span class="token operator">&gt;</span> console.log<span class="token punctuation">(</span>text<span class="token punctuation">))</span>  // <span class="token keyword">then</span> log it out
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>注意像<code>res.json()</code>和<code>res.text()</code>这样的方法是异步的。所以不能直接把它们的返回值打印出来，这就是console.log必须在.then的括号里面的原因。</p> <h5 id="_5、是因为服务器的原因吗"><a href="#_5、是因为服务器的原因吗" class="header-anchor">#</a> 5、是因为服务器的原因吗？</h5> <p>服务器有好几种原因返回HTML而不是JSON：</p> <ul><li>请求的url不存在，服务器以HTML的方式返回404页面。你可能在请求时代码写错（像把/user写成了/users）,或者服务端的代码的错误。</li> <li>当添加了新的路由时，服务器需要重启。比如你在用Express写的服务器时，刚刚新加了一个app.get('/users', ...)路由，但是没有重启，服务器就不会对新的路由地址有反应。</li> <li>客户端的代理没有设置： 如果在使用像Create React App的Webpack dev server时，你可以设置一个指向后端服务器的代理。</li> <li>API的根url是/,如果你在通过Webpack 或Create React App使用代理,要确认你的API路由不在根的层级/。这样会时代理服务器混淆，你将得到一个HTML而不是你的API请求的返回。你可以在如有前面加个前缀像/api/。</li></ul> <p>同时可以通过devtools的network查看请求的返回值。</p> <blockquote><p>是不是404页面？（可能是缺少该地址或者代码输入错误）。
这是不是index.html的页面？（可能是缺少地址或者代理配置错误）</p></blockquote> <blockquote><p>如果一切看起来没问题（新加的地址，服务端没有重启），那就重启前端和后端服务器，看看是不是问题解决了</p></blockquote></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/perfectSymphony/notes/edit/master/docs/js_docs/Javascript问题汇总.md" target="_blank" rel="noopener noreferrer">在GitHub上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新时间:</span> <span class="time">2/11/2022, 12:32:52 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/js_docs/Javascript清除缓存的几种方法.html" class="prev">
        Javascript清除缓存的几种方法
      </a></span> <span class="next"><a href="/js_docs/H5图片上传实现.html">
        H5图片上传实现
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.45fb48c1.js" defer></script><script src="/assets/js/2.d26699a6.js" defer></script><script src="/assets/js/63.e53c53f5.js" defer></script>
  </body>
</html>
